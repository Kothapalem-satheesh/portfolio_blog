{% extends "base.html" %}
{% load static %}
{% block title %}Kothapalem Satheesh | AI/ML Student & Django Developer{% endblock %}
{% block content %}

{# â”€â”€â”€ HERO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ #}
<section class="hero">
  <canvas id="hero-canvas"></canvas>
  {% if site_profile and site_profile.hero_video %}
    <video class="hero-video" autoplay muted loop playsinline>
      <source src="{{ site_profile.hero_video.url }}" type="video/mp4" />
    </video>
  {% endif %}

  <div class="container hero-content">
    <div class="hero-layout">
      <div class="hero-text animate-in">
        <p class="hero-eyebrow fade-in">âœ¦ Available for Internships &amp; Collaborations</p>
        <div class="badge-row slide-up">
          <span class="pill">ğŸ¤– AI/ML Student</span>
          <span class="pill">ğŸ Python Engineer</span>
          <span class="pill">âš¡ Django Developer</span>
          <span class="pill">ğŸ“ Punjab, India</span>
        </div>
        <h1 class="hero-title slide-up delay-1">
          Hi, I'm <span class="gradient-text">{{ site_profile.full_name|default:"Satheesh" }}</span>
        </h1>
        <p class="hero-subtitle typing-cursor" id="hero-sub">
          {{ site_profile.title|default:"AI Engineer & Full-Stack Developer" }}
        </p>
        <p class="hero-meta slide-up delay-2">
          {{ site_profile.intro|default:"I build production-ready web applications and AI-powered products using Django, Python, and modern data workflows." }}
        </p>
        <div class="hero-actions slide-up delay-2">
          <a class="btn btn-glow" href="{% url 'projects' %}">View Projects</a>
          <a class="btn btn-secondary" href="{% url 'contact' %}">Hire Me</a>
          <a class="btn btn-secondary" href="{% url 'blog_list' %}">Read Blog</a>
        </div>
        <div class="hero-socials slide-up delay-3">
          {% if site_profile.github_url %}
            <a href="{{ site_profile.github_url }}" target="_blank" rel="noreferrer" class="hero-social-link">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"/></svg>
              GitHub
            </a>
          {% endif %}
          {% if site_profile.linkedin_url %}
            <a href="{{ site_profile.linkedin_url }}" target="_blank" rel="noreferrer" class="hero-social-link">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
              LinkedIn
            </a>
          {% endif %}
        </div>
      </div>

      <div class="hero-photo-wrap animate-in-right">
        <div class="hero-photo-ring floating">
          {% if site_profile.photo and site_profile.photo.url %}
            <img class="hero-photo" src="{{ site_profile.photo.url }}" alt="{{ site_profile.full_name }}" />
          {% else %}
            <img class="hero-photo" src="{% static 'images/profile-photo.png' %}" alt="{{ site_profile.full_name }}" />
          {% endif %}
        </div>
        <div class="experience-badge pulse">
          <span class="exp-number">2+</span>
          <span class="exp-text">Years<br>Learning</span>
        </div>
      </div>
    </div>
  </div>
</section>

{# Wave divider after hero #}
<div class="wave-divider" aria-hidden="true">
  <svg viewBox="0 0 1440 56" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" height="56">
    <path d="M0,32 C360,64 1080,0 1440,32 L1440,56 L0,56 Z" fill="rgba(14,18,36,0.6)"/>
  </svg>
</div>

{# â”€â”€â”€ KPI SNAPSHOT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ #}
<section class="section container reveal">
  <div class="kpi-grid">
    <article class="card kpi hover-lift">
      <p class="kpi-number" data-count="10" data-suffix="+">0</p>
      <p>Core Skills</p>
      <small class="kpi-desc">Python, ML, Django</small>
    </article>
    <article class="card kpi hover-lift">
      <p class="kpi-number" data-count="4" data-suffix="+">0</p>
      <p>Portfolio Projects</p>
      <small class="kpi-desc">Production-ready</small>
    </article>
    <article class="card kpi hover-lift">
      <p class="kpi-number" data-count="2" data-suffix="">0</p>
      <p>ML Internships</p>
      <small class="kpi-desc">Industry experience</small>
    </article>
    <article class="card kpi hover-lift">
      <p class="kpi-number" data-count="7" data-suffix="+">0</p>
      <p>Certifications</p>
      <small class="kpi-desc">AI/Cloud certified</small>
    </article>
  </div>
</section>

{# â”€â”€â”€ AI/ML FOCUS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ #}
{# wave #}
<div class="wave-divider wave-divider-flip" aria-hidden="true">
  <svg viewBox="0 0 1440 48" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" height="48">
    <path d="M0,24 C480,48 960,0 1440,24 L1440,48 L0,48 Z" fill="rgba(109,125,255,0.05)"/>
  </svg>
</div>
<section class="section container reveal">
  <div class="section-head">
    <span class="section-label gradient-border">Expertise</span>
    <h2>What I Build</h2>
    <p class="section-subhead">Core strengths applied in internships, coursework, and real-world projects.</p>
  </div>
  <div class="cards">
    <article class="card focus-card hover-glow">
      <span class="card-icon">ğŸ§ </span>
      <h3>Machine Learning Engineering</h3>
      <p>End-to-end pipelines: preprocessing, feature engineering, model training and optimisation with Scikit-Learn, NumPy, and Pandas.</p>
      <div class="card-hover-indicator"></div>
    </article>
    <article class="card focus-card hover-glow">
      <span class="card-icon">ğŸ™ï¸</span>
      <h3>Real-Time AI Interfaces</h3>
      <p>Voice-enabled AI agents, multi-turn chatbots, FastAPI backends, and React browser frontends connected to LLM endpoints.</p>
      <div class="card-hover-indicator"></div>
    </article>
    <article class="card focus-card hover-glow">
      <span class="card-icon">ğŸš€</span>
      <h3>Production Django Systems</h3>
      <p>Secure, maintainable full-stack apps with authentication, async Celery tasks, REST APIs, and polished frontend experiences.</p>
      <div class="card-hover-indicator"></div>
    </article>
  </div>
</section>

{# â”€â”€â”€ TECH STACK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ #}
<div class="wave-divider" aria-hidden="true">
  <svg viewBox="0 0 1440 48" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" height="48">
    <path d="M0,16 C360,48 1080,0 1440,16 L1440,48 L0,48 Z" fill="rgba(34,195,255,0.04)"/>
  </svg>
</div>
<section class="section container reveal">
  <div class="section-head" style="text-align:center;">
    <span class="section-label">Technologies</span>
    <h2>Tech Stack</h2>
    <p>Tools and languages I use day-to-day.</p>
  </div>
  <div class="tech-cloud">
    <span class="tech-cloud-badge" data-tooltip="Core language"><span class="tc-icon">ğŸ</span> Python</span>
    <span class="tech-cloud-badge" data-tooltip="Web framework"><span class="tc-icon">ğŸŒ</span> Django</span>
    <span class="tech-cloud-badge" data-tooltip="API framework"><span class="tc-icon">âš¡</span> FastAPI</span>
    <span class="tech-cloud-badge" data-tooltip="ML library"><span class="tc-icon">ğŸ¤–</span> Scikit-Learn</span>
    <span class="tech-cloud-badge" data-tooltip="Scientific computing"><span class="tc-icon">ğŸ”¢</span> NumPy</span>
    <span class="tech-cloud-badge" data-tooltip="Data analysis"><span class="tc-icon">ğŸ¼</span> Pandas</span>
    <span class="tech-cloud-badge" data-tooltip="Deep learning"><span class="tc-icon">ğŸ”¥</span> PyTorch</span>
    <span class="tech-cloud-badge" data-tooltip="Database"><span class="tc-icon">ğŸ—ƒï¸</span> PostgreSQL</span>
    <span class="tech-cloud-badge" data-tooltip="Task queue"><span class="tc-icon">âš™ï¸</span> Celery</span>
    <span class="tech-cloud-badge" data-tooltip="Frontend"><span class="tc-icon">ğŸŒ€</span> React</span>
    <span class="tech-cloud-badge" data-tooltip="Version control"><span class="tc-icon">ğŸ™</span> Git</span>
    <span class="tech-cloud-badge" data-tooltip="Containerization"><span class="tc-icon">ğŸ³</span> Docker</span>
  </div>
</section>

{# â”€â”€â”€ FEATURED PROJECT (1 card, wide) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ #}
<section class="section container reveal">
  <div style="display:flex; justify-content:space-between; align-items:baseline; flex-wrap:wrap; gap:10px; margin-bottom:24px;">
    <div>
      <span class="section-label">Portfolio</span>
      <h2 style="margin-top:4px; color:var(--text);">Featured Project</h2>
    </div>
    <a class="btn btn-secondary btn-hover-arrow" href="{% url 'projects' %}">View All Projects <span class="arrow">â†’</span></a>
  </div>

  {% for project in featured_projects %}
    <article class="home-feature-card reveal hover-scale">
      {% if project.image %}
        <div class="home-feature-img">
          <img src="{{ project.image.url }}" alt="{{ project.title }}" loading="lazy" />
          <div class="img-overlay"></div>
        </div>
      {% else %}
        <div class="home-feature-img home-feature-placeholder">ğŸ› </div>
      {% endif %}
      <div class="home-feature-body">
        <span class="proj-featured-badge" style="position:static; display:inline-block; margin-bottom:10px;">â­ Featured</span>
        <h3>{{ project.title }}</h3>
        <p>{{ project.summary }}</p>
        {% if project.tech_stack %}
          <div class="tech-tags" style="margin-top:12px;">
            {% for tag in project.tech_stack.split %}
              <span class="tech-tag">{{ tag|cut:"," }}</span>
            {% endfor %}
          </div>
        {% endif %}
        <div style="display:flex; gap:12px; margin-top:16px; flex-wrap:wrap;">
          {% if project.source_url %}
            <a class="btn btn-secondary btn-sm" href="{{ project.source_url }}" target="_blank" rel="noreferrer" style="font-size:.85rem; padding:8px 16px;">â†— View Source</a>
          {% endif %}
          {% if project.demo_url %}
            <a class="btn btn-sm btn-glow" href="{{ project.demo_url }}" target="_blank" rel="noreferrer" style="font-size:.85rem; padding:8px 16px;">ğŸ”— Live Demo</a>
          {% endif %}
        </div>
      </div>
    </article>
  {% empty %}
    <div class="card empty-state" style="text-align:center; padding:40px;">
      <div class="empty-icon">ğŸ› ï¸</div>
      <p style="font-size:1.5rem; margin-bottom:8px;">Projects coming soon</p>
      <p class="text-muted">â€” <a href="{% url 'projects' %}" class="subtle-link">see the full list</a> â€”</p>
    </div>
  {% endfor %}
</section>

{# â”€â”€â”€ LATEST POST (1 card, wide) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ #}
<section class="section container reveal">
  <div style="display:flex; justify-content:space-between; align-items:baseline; flex-wrap:wrap; gap:10px; margin-bottom:24px;">
    <div>
      <span class="section-label">Writing</span>
      <h2 style="margin-top:4px; color:var(--text);">Latest Blog Post</h2>
    </div>
    <a class="btn btn-secondary btn-hover-arrow" href="{% url 'blog_list' %}">All Posts <span class="arrow">â†’</span></a>
  </div>

  {% if latest_posts %}
    {% with latest_posts.0 as post %}
      <a href="{{ post.get_absolute_url }}" class="home-feature-card home-feature-blog reveal hover-scale" style="text-decoration:none;">
        {% if post.cover_image %}
          <div class="home-feature-img">
            <img src="{{ post.cover_image.url }}" alt="{{ post.title }}" loading="lazy" />
            <div class="img-overlay"></div>
          </div>
        {% else %}
          <div class="home-feature-img home-feature-placeholder">âœï¸</div>
        {% endif %}
        <div class="home-feature-body">
          {% if post.category %}
            <span class="tech-tag" style="display:inline-block; margin-bottom:10px;">{{ post.category.name }}</span>
          {% endif %}
          <h3>{{ post.title }}</h3>
          <p>{{ post.excerpt|default:post.content|truncatewords:35 }}</p>
          <div style="display:flex; justify-content:space-between; align-items:center; margin-top:16px; flex-wrap:wrap; gap:8px;">
            <small style="color:var(--muted); font-size:.82rem;">{{ post.published_at|date:"F d, Y" }}</small>
            <span class="card-source" style="margin-top:0;">Read full article <span class="arrow">â†’</span></span>
          </div>
        </div>
      </a>
    {% endwith %}
  {% else %}
    <div class="card empty-state" style="text-align:center; padding:40px;">
      <div class="empty-icon">âœï¸</div>
      <p style="font-size:1.5rem; margin-bottom:8px;">No posts yet</p>
      <p class="text-muted"><a href="{% url 'subscribe' %}" class="subtle-link">subscribe</a> to get notified when the first one drops.</p>
    </div>
  {% endif %}
</section>

{# â”€â”€â”€ CTA BANNER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ #}
<section class="section container reveal">
  <div class="cta-banner gradient-bg">
    <div class="cta-content">
      <h3>Open to internships, collaborations &amp; AI projects</h3>
      <p class="text-large">Actively seeking real-world opportunities in AI, ML engineering, and full-stack development.</p>
    </div>
    <div class="cta-actions">
      <a class="btn btn-large btn-glow" href="{% url 'contact' %}">Contact Me</a>
      <a class="btn btn-secondary btn-large" href="{% url 'about' %}">My Story</a>
    </div>
  </div>
</section>

{# Add some micro-interactions #}
<script>
  // Animate numbers when they come into view
  document.addEventListener('DOMContentLoaded', function() {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const kpiNumbers = entry.target.querySelectorAll('.kpi-number');
          kpiNumbers.forEach(el => {
            if (!el.dataset.animated) {
              animateNumber(el);
              el.dataset.animated = 'true';
            }
          });
        }
      });
    }, { threshold: 0.5 });

    document.querySelectorAll('.kpi-grid').forEach(grid => observer.observe(grid));
  });

  function animateNumber(el) {
    const target = parseInt(el.dataset.count) || 0;
    const suffix = el.dataset.suffix || '';
    let current = 0;
    const increment = target / 30; // Animate over 30 frames
    const timer = setInterval(() => {
      current += increment;
      if (current >= target) {
        el.textContent = target + suffix;
        clearInterval(timer);
      } else {
        el.textContent = Math.floor(current) + suffix;
      }
    }, 30);
  }
</script>

<style>
  /* Additional micro-interactions */
  .hover-lift {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .hover-lift:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px -10px rgba(0,0,0,0.2);
  }

  .hover-glow {
    transition: all 0.3s ease;
  }
  .hover-glow:hover {
    box-shadow: 0 0 20px rgba(109, 125, 255, 0.3);
  }

  .btn-hover-arrow .arrow {
    display: inline-block;
    transition: transform 0.3s ease;
  }
  .btn-hover-arrow:hover .arrow {
    transform: translateX(5px);
  }

  .floating {
    animation: float 6s ease-in-out infinite;
  }
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  .pulse {
    animation: pulse 2s ease-in-out infinite;
  }
  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
  }

  .btn-glow {
    position: relative;
    overflow: hidden;
  }
  .btn-glow::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
  }
  .btn-glow:hover::after {
    opacity: 1;
  }

  .experience-badge {
    position: absolute;
    bottom: 20px;
    right: -20px;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    color: white;
    padding: 12px 18px;
    border-radius: 30px;
    text-align: center;
    box-shadow: 0 10px 25px -5px rgba(109, 125, 255, 0.4);
    z-index: 2;
  }
  .exp-number {
    font-size: 1.8rem;
    font-weight: 700;
    line-height: 1;
    display: block;
  }
  .exp-text {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    opacity: 0.9;
  }

  .hero-photo-wrap {
    position: relative;
  }

  .kpi-desc {
    color: var(--muted);
    font-size: 0.75rem;
    display: block;
    margin-top: 4px;
  }

  .gradient-border {
    position: relative;
    padding-bottom: 5px;
  }
  .gradient-border::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 40px;
    height: 2px;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
  }

  .section-subhead {
    max-width: 600px;
    margin: 0.5rem auto 2rem;
    color: var(--muted);
  }

  .empty-state {
    background: rgba(255,255,255,0.02);
    border: 1px dashed var(--border);
  }
  .empty-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    opacity: 0.5;
  }
  .subtle-link {
    color: var(--text);
    text-decoration: underline;
    text-decoration-style: dotted;
    text-underline-offset: 4px;
  }
  .subtle-link:hover {
    color: var(--primary);
  }

  .tech-cloud-badge {
    position: relative;
  }
  .tech-cloud-badge[data-tooltip]:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    padding: 4px 8px;
    background: rgba(0,0,0,0.8);
    color: white;
    font-size: 0.7rem;
    border-radius: 4px;
    white-space: nowrap;
    pointer-events: none;
    margin-bottom: 5px;
  }

  .img-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(109,125,255,0.1), rgba(34,195,255,0.1));
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
  }
  .home-feature-card:hover .img-overlay {
    opacity: 1;
  }

  .cta-banner.gradient-bg {
    background: linear-gradient(135deg, rgba(109,125,255,0.1), rgba(34,195,255,0.1));
    backdrop-filter: blur(10px);
    border: 1px solid rgba(109,125,255,0.2);
  }
  .cta-content .text-large {
    font-size: 1.2rem;
    margin-top: 0.5rem;
  }
  .btn-large {
    padding: 12px 32px;
    font-size: 1rem;
  }
</style>
{% endblock %}